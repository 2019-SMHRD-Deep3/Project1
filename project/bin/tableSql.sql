drop table HYGIENE CASCADE CONSTRAINTS ;
drop table REVIEW CASCADE CONSTRAINTS;
drop table RIDER  CASCADE CONSTRAINTS;
drop table SHOPKEEPER  CASCADE CONSTRAINTS;
drop table USER2  CASCADE CONSTRAINTS;
drop table ORDER2 CASCADE CONSTRAINTS;
DROP TABLE menu CASCADE CONSTRAINTS;
DROP TABLE delivery CASCADE CONSTRAINTS;
DROP TABLE review CASCADE CONSTRAINTS;
DROP TABLE REPLY CASCADE CONSTRAINTS;

create table HYGIENE 
(SHOPNAME VARCHAR2(15),
 SECTOR VARCHAR2(10),
 LOC VARCHAR2(20),
 BUSINESS_LICENSE NUMBER(10)  PRIMARY kEY,
 VIOLATION_DETAILS VARCHAR2(10));
 
 CREATE TABLE REVIEW 
 (USER_ID VARCHAR2 (10) PRIMARY KEY,
 REVIEW VARCHAR2(30),
 RATING NUMBER (1),
 REPLY VARCHAR2(30));
 
 CREATE TABLE RIDER 
 (RIDER_ID VARCHAR2 (10) PRIMARY KEY,
 PW VARCHAR2(15),
 RIDERNAME VARCHAR2(5),
 RATING NUMBER(1),
 TRANSPORTATION VARCHAR2(10),
 LOC VARCHAR2(5),
 COMPANY VARCHAR2 (10),
 PHONE number (11)
);
 
 CREATE TABLE SHOPKEEPER 
 (SHOPKEEPER_ID VARCHAR2 (10) PRIMARY KEY,
 PW VARCHAR2 (15),
 SHOPNAME VARCHAR2 (10),
 ADDRESS VARCHAR2(20),
BUSINESS_LICENSE VARCHAR2 (10) ,
RATING NUMBER(1),
TEL NUMBER(11),

CONSTRAINT SHOPKEPPER_BUSINESS_LICENSE_UK UNIQUE("BUSINESS_LICENSE")
 );
 
 CREATE TABLE USER2 
 (USER_ID VARCHAR2 (10) PRIMARY KEY,
 PW VARCHAR2 (15),
 USERNAME VARCHAR2 (5),
 ADDRESS VARCHAR2(20),
 PHONE NUMBER (11),
 CONSTRAINT USER2_PHONE_UK UNIQUE ("PHONE")
 );
 
CREATE TABLE ORDER2
(ORDER_NUMBER NUMBER (7) PRIMARY KEY,
USER_ID  VARCHAR2 (10) ,
SHOPKEEPER_ID VARCHAR2 (10),
ORDER_MENU VARCHAR2 (20)
);
 
create table MENU 
(SHOPKEEPER_ID VARCHAR2 (10) ,
FOOD varchar2(10),
PRICE number(6)
);

create table DELIVERY
(ORDER_NUMBER NUMBER (7),
SHOPKEEPER_ID VARCHAR2 (10),
RIDER_ID VARCHAR2 (10),
ADDRESS VARCHAR2(20),
USER_ID VARCHAR2 (10));

CREATE TABLE REVIEW 
(ORDER_NUMBER NUMBER (7),
USER_ID VARCHAR2 (10),
SHOPKEEPER_ID VARCHAR2 (10),
RIDER_ID VARCHAR2 (10),
SHOP_RATING  number (1),
RIDER_RATING number (1),
REVIEW varchar2(30)

);

CREATE TABLE REPLY 
(ORDER_NUMBER NUMBER (7),
USER_ID VARCHAR2 (10),
SHOPKEEPER_ID VARCHAR2 (10),
REPLY VARCHAR2 (20),
CONSTRAINT REPLY_ORDER_NUMBER_FK FOREIGN KEY ("ORDER_NUMBER")  
REFERENCES ORDER2(ORDER_NUMBER),
CONSTRAINT REPLY_USER_ID_FK FOREIGN KEY (USER_ID)
REFERENCES USER2(ORDER_NUMBER),
CONSTRAINT REPLY_SHOPKEEPER_ID_FK FOREIGN KEY(SHOPKEEPER_ID)
REFERENCES SHOPKEEPER(SHOPKEEPER_ID)
);
 